# 嵌入式系统学习笔记

## STM32

## Altium Designer

### 快捷键

- `s`选择方式
- `space`旋转元件
- 选中元件，`x`水平镜像`y`垂直镜像
- `ctrl+w`放置导线
  - `shift+space`更改导线连接方式：
- `shift+s`隐藏层
- `ctrl+PgDn`自动更改视图大小，至全部元件
- `G`栅格大小设置
- `TAB`设置属性

### 新建工程

- 新建的工程后缀名为`PrjPcb`
- 需要自己创建其他的文件，包括：
  - 原理图库`SchLib`，原理图`SchDoc`
  - PCB 元件库`PcbLib`，PCB`PcbDoc`

## 元器件库和电阻容模型的创建

元件模型是元件在原理图上的表现形式，包括边框，管脚序号，管脚名称。

实物是 PCB 封装的表示，元件模型和实物不一定一致。

### 板层结构

- Signal Layers：信号层，使用铜箔走线完成信号链接（顶层，30 个中间层，底层）

- Internal Planes：中间层，内部电源和接地层，允许 16 层，通常只连接电源和地网络

- Mechanical Layers：机械层，用于描述电路板机械结构，标注及加工生产信息等，但不能完成电气链接，允许 32 个

  > Mechanical Layer 顾名思义就是机械层，之所以强调“机械”就是说它不带有电气属性，因此可以放心地用于勾画外形、勾画机械尺寸、放置文本等等工作，而不必担心对板子的电气特性造成任何改变。
  >
  > 机械层的功能是可以根据自己的需求来定义的，以下是个人较习惯用的机械层定义：
  >
  > - Mech1：机械一层多用来勾画线路板的边框，以及内部较大的镂空或者异型镗孔。
  > - Mech2：机械二层多用来绘制 V 型槽。
  > - Mech3：机械三、四层多用来放置辅助定义边界，以及特殊的分隔线。
  > - Mech5：机械五、六层多用来放置线路板的尺寸标注。
  > - Mech7：机械七、八层多用来放置各种描述文本，如板号名称、版本号、加工说明、设计者、设计日期等等。
  > - Mech13：AD 默认用于描述器件的物理外形，也用于绘制三维实体。
  > - Mech14：同上。
  > - Mech15：AD 默认用于勾绘器件的占位尺寸。
  > - Mech16：同上

- Mask Layers：阻焊层，或者叫遮盖层，用于保护铜线，也可以防止焊接错误，共四个层

  - Top Paste, Bottom Paste：锡膏防护层，也称为助焊层，一般用于焊盘上锡，起到助焊作用
  - Top Solder, Bottom Solder：阻焊层，用于阻焊绿油的涂刷设计

- Silkscreen Layers：丝印层，提供说明信息（Top Overlay，Bottom Overlay）

- Other Layers：

  - Drill Guides：钻孔层，描述钻孔信息
  - Keep-out Layer：用于定义布线区域，元件不能在布线区域外布线
  - Multi-layer：多层，用于放置穿过多层的 PCB 元件，也用与显示穿越多层的加工信息

### 布线原则

- 按照信号走向布局
  - 围绕核心元件布局：布局时需要先将核心元件放好，之后以核心元件为中心布局
  - 按照信号流向布局：尽量保证信号都是相同的流向
- 元件排列原则
  - 排列均匀紧凑，单元电路之间的引线要尽可能短，引出线的数目尽可能少
  - 板的四周要留有一定空间，板子边缘的元件应该尽量留出 2mm 空间
  - 相邻两个元件保持一定距离，如果相邻两个元件电位差过高，要保持不小于 0.5mm 的安全距离
  - 元件不重叠，贴片元件合理放置
